cmake_minimum_required(VERSION 3.4.1)

project(ruby)      

add_definitions(-DRUBY_EXPORT -DOS_ANDROID)

set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -Wno-uninitialized -Wno-missing-field-initializers -Wno-shadow -Wno-format-security")

set(SOURCE_LIB
<%= @rhoRoot %>/platform/shared/ruby/array.c
<%= @rhoRoot %>/platform/shared/ruby/bignum.c
<%= @rhoRoot %>/platform/shared/ruby/class.c
<%= @rhoRoot %>/platform/shared/ruby/compar.c
<%= @rhoRoot %>/platform/shared/ruby/compile.c
<%= @rhoRoot %>/platform/shared/ruby/complex.c
<%= @rhoRoot %>/platform/shared/ruby/cont.c
<%= @rhoRoot %>/platform/shared/ruby/debug.c
<%= @rhoRoot %>/platform/shared/ruby/dir.c
<%= @rhoRoot %>/platform/shared/ruby/dln.c
<%= @rhoRoot %>/platform/shared/ruby/dln_find.c
<%= @rhoRoot %>/platform/shared/ruby/dmyencoding.c
<%= @rhoRoot %>/platform/shared/ruby/dmyext.c
<%= @rhoRoot %>/platform/shared/ruby/enc/ascii.c
<%= @rhoRoot %>/platform/shared/ruby/enc/unicode.c
<%= @rhoRoot %>/platform/shared/ruby/enc/us_ascii.c
<%= @rhoRoot %>/platform/shared/ruby/enc/utf_8.c
<%= @rhoRoot %>/platform/shared/ruby/enc/encdb.c
<%= @rhoRoot %>/platform/shared/ruby/enc/iso_8859_1.c
<%= @rhoRoot %>/platform/shared/ruby/enc/iso_8859_9.c
<%= @rhoRoot %>/platform/shared/ruby/enc/utf_16be.c
<%= @rhoRoot %>/platform/shared/ruby/enc/utf_16le.c
<%= @rhoRoot %>/platform/shared/ruby/enc/utf_32be.c
<%= @rhoRoot %>/platform/shared/ruby/enc/utf_32le.c
<%= @rhoRoot %>/platform/shared/ruby/enc/euc_jp.c
<%= @rhoRoot %>/platform/shared/ruby/enc/windows_31j.c
<%= @rhoRoot %>/platform/shared/ruby/enum.c
<%= @rhoRoot %>/platform/shared/ruby/enumerator.c
<%= @rhoRoot %>/platform/shared/ruby/error.c
<%= @rhoRoot %>/platform/shared/ruby/eval.c
<%= @rhoRoot %>/platform/shared/ruby/ext/bluetooth/bluetooth_wrap.c
<%= @rhoRoot %>/platform/shared/ruby/ext/nativeviewmanager/nativeviewmanager_wrap.c
<%= @rhoRoot %>/platform/shared/ruby/ext/calendar/calendar_wrap.c
<%= @rhoRoot %>/platform/shared/ruby/ext/calendar/event_wrap.c
<%= @rhoRoot %>/platform/shared/ruby/ext/datetimepicker/datetimepicker_wrap.c
<%= @rhoRoot %>/platform/shared/ruby/ext/geolocation/geolocation_wrap.c
<%= @rhoRoot %>/platform/shared/ruby/ext/mapview/mapview_wrap.c
<%= @rhoRoot %>/platform/shared/ruby/ext/nativebar/nativebar_wrap.c
<%= @rhoRoot %>/platform/shared/ruby/ext/navbar/navbar_wrap.c
<%= @rhoRoot %>/platform/shared/ruby/ext/phonebook/phonebook_wrap.c
<%= @rhoRoot %>/platform/shared/ruby/ext/rho/extensions.c
<%= @rhoRoot %>/platform/shared/ruby/ext/rho/rhoruby.c
<%= @rhoRoot %>/platform/shared/ruby/ext/rho/rhosupport.c
<%= @rhoRoot %>/platform/shared/ruby/ext/rhoconf/rhoconf_wrap.c
<%= @rhoRoot %>/platform/shared/ruby/ext/ringtones/ringtones_wrap.c
<%= @rhoRoot %>/platform/shared/ruby/file.c
<%= @rhoRoot %>/platform/shared/ruby/gc.c
<%= @rhoRoot %>/platform/shared/ruby/parse.c
<%= @rhoRoot %>/platform/shared/ruby/hash.c
<%= @rhoRoot %>/platform/shared/ruby/inits.c
<%= @rhoRoot %>/platform/shared/ruby/io.c
<%= @rhoRoot %>/platform/shared/ruby/iseq.c
<%= @rhoRoot %>/platform/shared/ruby/load.c
<%= @rhoRoot %>/platform/shared/ruby/loadpath.c
<%= @rhoRoot %>/platform/shared/ruby/localeinit.c
<%= @rhoRoot %>/platform/shared/ruby/marshal.c
<%= @rhoRoot %>/platform/shared/ruby/math.c
<%= @rhoRoot %>/platform/shared/ruby/prelude.c
<%= @rhoRoot %>/platform/shared/ruby/missing/acosh.c
<%= @rhoRoot %>/platform/shared/ruby/missing/cbrt.c
<%= @rhoRoot %>/platform/shared/ruby/missing/crypt.c
<%= @rhoRoot %>/platform/shared/ruby/missing/dup2.c
<%= @rhoRoot %>/platform/shared/ruby/missing/erf.c
<%= @rhoRoot %>/platform/shared/ruby/missing/explicit_bzero.c
<%= @rhoRoot %>/platform/shared/ruby/missing/hypot.c
<%= @rhoRoot %>/platform/shared/ruby/missing/lgamma_r.c
<%= @rhoRoot %>/platform/shared/ruby/missing/setproctitle.c
<%= @rhoRoot %>/platform/shared/ruby/missing/stdlib.c
<%= @rhoRoot %>/platform/shared/ruby/missing/strlcat.c
<%= @rhoRoot %>/platform/shared/ruby/missing/strlcpy.c
<%= @rhoRoot %>/platform/shared/ruby/missing/tgamma.c
<%= @rhoRoot %>/platform/shared/ruby/newline.c
<%= @rhoRoot %>/platform/shared/ruby/node.c
<%= @rhoRoot %>/platform/shared/ruby/numeric.c
<%= @rhoRoot %>/platform/shared/ruby/object.c
<%= @rhoRoot %>/platform/shared/ruby/pack.c
<%= @rhoRoot %>/platform/shared/ruby/proc.c
<%= @rhoRoot %>/platform/shared/ruby/process.c
<%= @rhoRoot %>/platform/shared/ruby/random.c
<%= @rhoRoot %>/platform/shared/ruby/range.c
<%= @rhoRoot %>/platform/shared/ruby/rational.c
<%= @rhoRoot %>/platform/shared/ruby/re.c
<%= @rhoRoot %>/platform/shared/ruby/regcomp.c
<%= @rhoRoot %>/platform/shared/ruby/regenc.c
<%= @rhoRoot %>/platform/shared/ruby/regerror.c
<%= @rhoRoot %>/platform/shared/ruby/regexec.c
<%= @rhoRoot %>/platform/shared/ruby/regparse.c
<%= @rhoRoot %>/platform/shared/ruby/regsyntax.c
<%= @rhoRoot %>/platform/shared/ruby/ruby.c
<%= @rhoRoot %>/platform/shared/ruby/safe.c
<%= @rhoRoot %>/platform/shared/ruby/signal.c
<%= @rhoRoot %>/platform/shared/ruby/sprintf.c
<%= @rhoRoot %>/platform/shared/ruby/st.c
<%= @rhoRoot %>/platform/shared/ruby/strftime.c
<%= @rhoRoot %>/platform/shared/ruby/string.c
<%= @rhoRoot %>/platform/shared/ruby/struct.c
<%= @rhoRoot %>/platform/shared/ruby/symbol.c
<%= @rhoRoot %>/platform/shared/ruby/thread.c
<%= @rhoRoot %>/platform/shared/ruby/time.c
<%= @rhoRoot %>/platform/shared/ruby/transcode.c
<%= @rhoRoot %>/platform/shared/ruby/util.c
<%= @rhoRoot %>/platform/shared/ruby/variable.c
<%= @rhoRoot %>/platform/shared/ruby/version.c
<%= @rhoRoot %>/platform/shared/ruby/vm.c
<%= @rhoRoot %>/platform/shared/ruby/vm_backtrace.c
<%= @rhoRoot %>/platform/shared/ruby/vm_dump.c
<%= @rhoRoot %>/platform/shared/ruby/vm_trace.c
<%= @rhoRoot %>/platform/shared/ruby/ext/strscan/strscan.c
<%= @rhoRoot %>/platform/shared/ruby/ext/stringio/stringio.c
<%= @rhoRoot %>/platform/shared/ruby/rhoinit.c
<%= @rhoRoot %>/platform/shared/ruby/ext/socket/ancdata.c
<%= @rhoRoot %>/platform/shared/ruby/ext/socket/basicsocket.c
<%= @rhoRoot %>/platform/shared/ruby/ext/socket/constants.c
<%= @rhoRoot %>/platform/shared/ruby/ext/socket/ifaddr.c
<%= @rhoRoot %>/platform/shared/ruby/ext/socket/init.c
<%= @rhoRoot %>/platform/shared/ruby/ext/socket/ipsocket.c
<%= @rhoRoot %>/platform/shared/ruby/ext/socket/option.c
<%= @rhoRoot %>/platform/shared/ruby/ext/socket/raddrinfo.c
<%= @rhoRoot %>/platform/shared/ruby/ext/socket/socket.c
<%= @rhoRoot %>/platform/shared/ruby/ext/socket/sockssocket.c
<%= @rhoRoot %>/platform/shared/ruby/ext/socket/tcpserver.c
<%= @rhoRoot %>/platform/shared/ruby/ext/socket/tcpsocket.c
<%= @rhoRoot %>/platform/shared/ruby/ext/socket/udpsocket.c
<%= @rhoRoot %>/platform/shared/ruby/ext/socket/unixserver.c
<%= @rhoRoot %>/platform/shared/ruby/ext/socket/unixsocket.c
<%= @rhoRoot %>/platform/shared/ruby/ext/io/nonblock/nonblock.c
<%= @rhoRoot %>/platform/shared/ruby/ext/io/wait/wait.c
<%= @rhoRoot %>/platform/shared/ruby/enc/trans/utf_16_32.c
<%= @rhoRoot %>/platform/shared/ruby/enc/trans/single_byte.c
)

include_directories(<%= @rhoRoot %>/platform/shared/ruby/include)
include_directories(<%= @rhoRoot %>/platform/shared/ruby/android)
include_directories(<%= @rhoRoot %>/platform/shared/ruby/generated)
include_directories(<%= @rhoRoot %>/platform/shared/ruby)
include_directories(<%= @rhoRoot %>/platform/shared)
include_directories(<%= @rhoRoot %>/platform/shared/sqlite)

add_library(ruby STATIC ${SOURCE_LIB})

